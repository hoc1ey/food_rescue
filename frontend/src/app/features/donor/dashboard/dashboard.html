<app-header 
  title="Dashboard de Donante" 
  subtitle="KFC Calle Mayor"
  theme="donor"
  (logoutClick)="handleLogout()">
</app-header>

<main class="dashboard-content">
  <!-- Tarjeta de Horario -->
  <app-card-schedule 
    [scheduleData]="scheduleData" 
    [theme]="'donor'">
  </app-card-schedule>

  <div class="new-donation-action">
    <app-button (click)="onNewDonation()" theme="donor">
      <lucide-icon name="plus" class="button-icon"></lucide-icon>
      Publicar Nueva Donación
    </app-button>
  </div>

  <!-- Tarjeta de Donaciones Publicadas -->
  <div class="card">
    <div class="card-header-with-count">
      <app-card-header 
        title="Mis Donaciones Publicadas" 
        icon="package" 
        theme="donor">
      </app-card-header>
      <span class="donation-count">Total: {{ donations.length }} donación{{ donations.length !== 1 ? 'es' : '' }}</span>
    </div>
    
    <div class="card-body">
      <!-- Mensaje de error -->
      <div *ngIf="errorMessage" class="error-message">
        <lucide-icon name="info" class="error-icon"></lucide-icon>
        <p>{{ errorMessage }}</p>
      </div>

      <!-- Estado de carga -->
      <div *ngIf="isLoading" class="loading-state">
        <p>Cargando donaciones...</p>
      </div>

      <!-- Lista de donaciones -->
      <div *ngIf="!isLoading && !errorMessage" class="donations-grid">
        <app-card-donation 
          *ngFor="let donation of donations" 
          [donation]="donation"
          [theme]="'donor'">
        </app-card-donation>

        <!-- Mensaje cuando no hay donaciones -->
        <div *ngIf="donations.length === 0" class="empty-state">
          <p>Aún no has publicado ninguna donación.</p>
          <p class="empty-subtitle">Haz clic en "Publicar Nueva Donación" para comenzar.</p>
        </div>
      </div>
    </div>
  </div>
</main>

<!-- Modal de Nueva Donación -->
<app-modal-new-donation
  *ngIf="showNewDonationModal"
  (close)="onModalClose()"
  (submit)="onDonationSubmit($event)">
</app-modal-new-donation>
